# –ß—Ç–æ —ç—Ç–æ?

–≠—Ç–æ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ [—Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å](https://en.wikipedia.org/wiki/Digital_root) –Ω–∞ TypeScript

–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ [Motion Canvas](https://motioncanvas.io/), –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤–≤–µ–¥–∏—Ç–µ `npm start`. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω –ø—Ä–∏–º–µ—Ä–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –≤—ã—Å—Ç—É–ø–∞—é—â–µ–≥–æ

# –í–≤–µ–¥–µ–Ω–∏–µ

–ù–∞ –ø—Ä–æ—à–ª–æ–π –Ω–µ–¥–µ–ª–µ —è —Ä–µ—à–∞–ª –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ—Å—Ç –¥–ª—è —Å—Ç–∞–∂—ë—Ä–æ–≤, –∏ —Ç–∞–º –±—ã–ª–∞ —Å –≤–∏–¥—É –ø—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∫–∞: –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–≥–æ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –∫–æ—Ä–Ω—è. –î–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –≤ –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö —Ä–∞–∑–±–µ—Ä—ë–º—Å—è –≤ –ø—Ä–æ–±–ª–µ–º–µ, –∞ –ø–æ—Ç–æ–º —è —Ä–∞—Å—Å–∫–∞–∂—É –≥–ª–∞–≤–Ω—ã–π —Å—é–∂–µ—Ç–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç

–î–∞–≤–∞–π—Ç–µ –¥—É–º–∞—Ç—å –ø—Ä–æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å –∫–∞–∫ –ø—Ä–æ —Ñ—É–Ω–∫—Ü–∏—é. –ù–∞ –≤—Ö–æ–¥ –æ–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ, –∞ –Ω–∞ –≤—ã—Ö–æ–¥–µ –¥–∞—ë—Ç —Å—É–º–º—É –µ–≥–æ —Ü–∏—Ñ—Ä. –ó–∞–≥–≤–æ–∑–¥–∫–∞ –≤ —Ç–æ–º, —á—Ç–æ, –µ—Å–ª–∏ –≤ —ç—Ç–æ–π —Å—É–º–º–µ –±—É–¥–µ—Ç –±–æ–ª—å—à–µ –æ–¥–Ω–æ–π —Ü–∏—Ñ—Ä—ã, –Ω–∞–º –Ω—É–∂–Ω–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

–ò–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–µ—Å–ª–æ–∂–Ω–æ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è, —á—Ç–æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å –¥–ª—è —á–∏—Å–ª–∞ –æ—Ç 0 –¥–æ 9 —Ä–∞–≤–µ–Ω —ç—Ç–æ–º—É –∂–µ —á–∏—Å–ª—É. –î–∞–≤–∞–π—Ç–µ –∑–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –∫–æ—Ä–Ω—è –∫–∞–∫ `dr`, –≥–¥–µ –∑–∞ `ds` —è –æ–±–æ–∑–Ω–∞—á–∏–ª —Å—É–º–º—É —Ü–∏—Ñ—Ä

$$
dr(n) = \begin{cases}n, 0 \le n \le 9\\dr(ds(n)), n \gt 9\end{cases}
\\

$$

$$
ds(n) = \begin{cases}n, 0 \le n \le 9\\n \bmod 10 + ds(\lfloor n \div 10 \rfloor)\end{cases}
$$

–°—é–∂–µ—Ç–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç —Ç–æ–≥–æ –∫–æ–Ω—Ç–µ—Å—Ç–∞ –±—ã–ª –≤ —Ç–æ–º, —á—Ç–æ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞–¥–æ –≤—ã—á–∏—Å–ª–∏—Ç—å *–Ω–∞ —Ç–∏–ø–∞—Ö TS –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏*. –ö—Ä—É—Ç–æ–π –ø–æ–≤–æ–¥ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ `infer` –∏ –ø—Ä–æ—á—É—é –º–∞–≥–∏—é TS!

```tsx
type DigitalRoot<N extends number> = ...
```

# –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –≤ —Ç–∏–ø–∞—Ö?

–ß—Ç–æ–±—ã –æ—Å–æ–∑–Ω–∞—Ç—å –º–∞—Å—à—Ç–∞–± –ø—Ä–æ–±–ª–µ–º—ã, –∑–∞–º–µ—Ç–∏–º, —á—Ç–æ –≤ TS –Ω–µ—Ç *–Ω–∏–∫–∞–∫–∏—Ö* –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∏—Å–ª–∞–º–∏. –£—Å–ª–æ–≤–Ω–æ–µ `123` –Ω–µ –Ω–µ—Å—ë—Ç –≤ —Å–µ–±–µ –∫–∞–∫–æ–≥–æ-—Ç–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–º—ã—Å–ª–∞ - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∫–∞–∫–æ–π-—Ç–æ —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç `number`, –∏ –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ª–∏—á–µ–Ω –æ—Ç `122`, `124`, `199.5` –∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö

```tsx
type Sum = 123 + 456 // ?
```

–î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ —É –Ω–∞—Å –µ—Å—Ç—å –≤—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ - —ç—Ç–æ —É—Å–ª–æ–≤–Ω—ã–µ —Ç–∏–ø—ã —Å `extends`, —Ä–µ–∫—É—Ä—Å–∏—è, –∑–∞–≤–µ—Ç–Ω—ã–π `infer` –∏ –Ω–µ–º–Ω–æ–∂–∫–æ —Ö–∏—Ç—Ä–æ—Å—Ç–∏

–î–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –∑–∞–∫—Ä–µ–ø–∏–º –Ω–∞—à—É –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å - –æ–±—ä—è–≤–∏–º —Ç–∏–ø –¥–ª—è –æ–¥–Ω–æ–π —Ü–∏—Ñ—Ä—ã `Digit`. –≠—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –æ—Ç 0 –¥–æ 9

```tsx
type Digit = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
```

–í —Å–∞–º–æ–π –∑–∞–¥–∞—á–µ –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Å—É–º–º—É —Ü–∏—Ñ—Ä –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞, –≤–µ—Ä–Ω–æ? –ó–Ω–∞—á–∏—Ç –Ω–∞–º –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã. –í TS –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–µ–Ω–∏–µ —á–∏—Å–µ–ª –ª—é–±—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤, –Ω–æ –¥–ª—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∫–∏ –µ—Å—Ç—å –æ–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å

# –¢–æ–ª—å–∫–æ –Ω–µ —Ç–æ—á—å –≤ —Ç–æ—á—å!

–ü—Ä–µ–¥–ª–∞–≥–∞—é –ø–æ–ª–æ–º–∞—Ç—å –≥–æ–ª–æ–≤—É: –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Å–ø–æ–º–Ω–∏—Ç—å, –∫–∞–∫ –≤—ã —É—á–∏–ª–∏—Å—å —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤ —Å—Ç–æ–ª–±–∏–∫. –£ –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –±—É–¥–µ—Ç –Ω–µ–º–Ω–æ–≥–æ —Ä–∞–∑–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –≥–æ–ª–æ–≤–µ, –Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞–º –ø–æ–¥–æ–π–¥—ë—Ç –∏ –æ–±—ã—á–Ω–æ–µ –∑–∞—É—á–∏–≤–∞–Ω–∏–µ! –ú—ã –º–æ–∂–µ–º –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–ª–æ–∂–µ–Ω–∏—è –¥–≤—É—Ö —Ü–∏—Ñ—Ä, –∞ –ø–æ—Ç–æ–º –ø—Ä–æ—Å—Ç–æ –ø–æ–¥—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤ —à–ø–∞—Ä–≥–∞–ª–∫—É

–í –æ–±—ã—á–Ω–æ–º TS –∫–æ–¥–µ –º—ã —á–∞—Å—Ç–æ –¥–æ—Å—Ç–∞—ë–º —Ç–∏–ø—ã –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤, —á—Ç–æ–±—ã –ø—Ä–æ–∫–∏–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –Ω—É–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –¢–∞–∫–∏–º –∂–µ –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –¥–æ—Å—Ç–∞–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞ –ø–æ –∏—Ö –∏–Ω–¥–µ–∫—Å—É:

```tsx
type CheatSheet = [0, -2, 9, 4, 3]
type Solution = CheatSheet[2]
//   ^? 9
```

–ê —Ç–µ–ø–µ—Ä—å —Ö–∏—Ç—Ä–æ—Å—Ç—å - –¥–∞–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º `Digit` –∫–∞–∫ –∏–Ω–¥–µ–∫—Å –Ω–∞—à–µ–π —à–ø–∞—Ä–≥–∞–ª–∫–∏. –ß—Ç–æ–±—ã –ø–æ–¥—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –±—ã–ª–æ —É–¥–æ–±–Ω–µ–µ, —Å–¥–µ–ª–∞–µ–º –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ - —Ç–∞–±–ª–∏—Ü—É —Å–ª–æ–∂–µ–Ω–∏—è –¥–≤—É—Ö —Ü–∏—Ñ—Ä, –≥–¥–µ –∏–Ω–¥–µ–∫—Å —Å—Ç—Ä–æ–∫–∏ —ç—Ç–æ –ø–µ—Ä–≤–∞—è —Ü–∏—Ñ—Ä–∞, –∞ –∏–Ω–¥–µ–∫—Å —Å—Ç–æ–ª–±—Ü–∞ - –≤—Ç–æ—Ä–∞—è. –ò –∑–∞–≤–µ—Ä–Ω—ë–º —ç—Ç–∏ –∏–Ω–¥–µ–∫—Å—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π generic —Ç–∏–ø, —á—Ç–æ–±—ã –≤—Å–µ –¥—É–º–∞–ª–∏, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω —Ä–µ–∞–ª—å–Ω–æ —Å–ª–æ–∂–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º:

```tsx
type AddTable = [
  [0,  1,  2,  3,  4,  5,  6,  7,  8,  9],
  [1,  2,  3,  4,  5,  6,  7,  8,  9, 10],
  [2,  3,  4,  5,  6,  7,  8,  9, 10, 11],
  [3,  4,  5,  6,  7,  8,  9, 10, 11, 12],
  [4,  5,  6,  7,  8,  9, 10, 11, 12, 13],
  [5,  6,  7,  8,  9, 10, 11, 12, 13, 14],
  [6,  7,  8,  9, 10, 11, 12, 13, 14, 15],
  [7,  8,  9, 10, 11, 12, 13, 14, 15, 16],
  [8,  9, 10, 11, 12, 13, 14, 15, 16, 17],
  [9, 10, 11, 12, 13, 14, 15, 16, 17, 18],
]

type AddDigits<A extends Digit, B extends Digit> = AddTable[A][B]
```

–ó–∞–º–µ—Ç–∏–º, —á—Ç–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–ª–æ–∂–µ–Ω–∏—è, *–∫—Ç–æ –±—ã –º–æ–≥ –ø–æ–¥—É–º–∞—Ç—å*, –∏–Ω–æ–≥–¥–∞ –ø–æ–ª—É—á–∞—é—Ç—Å—è –¥–≤—É–∑–Ω–∞—á–Ω—ã–µ —á–∏—Å–ª–∞, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º—ã –µ—â—ë –Ω–µ —É–º–µ–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å. –î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –æ—Ç—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–µ–Ω–∞–¥–æ–ª–≥–æ –≤–µ—Ä–Ω—ë–º—Å—è –∫ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ - –æ–±–µ—â–∞—é, —É —ç—Ç–æ–≥–æ –µ—Å—Ç—å —Å–º—ã—Å–ª!

# –°—á–∏—Ç–∞–µ–º —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å‚Ä¶ –±–µ–∑ —Å—É–º–º—ã?

–ü—Ä–µ–¥–ª–∞–≥–∞—é –Ω–µ–º–Ω–æ–≥–æ –ø–æ—Ä–∞—Å—Å—É–∂–¥–∞—Ç—å –ø—Ä–æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å. –ú—ã —É–∂–µ –∑–Ω–∞–µ–º, —á—Ç–æ —á–∏—Å–ª–∞ –æ—Ç $0$ –¥–æ $9$ —Ä–∞–≤–Ω—ã —Å–≤–æ–∏–º –∂–µ —Ü–∏—Ñ—Ä–æ–≤—ã–º –∫–æ—Ä–Ω—è–º. –î–∞–ª—å—à–µ –∏–¥—ë—Ç $10$, –∏ –µ–≥–æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å —Ä–∞–≤–µ–Ω $1$. –ü–æ—Ç–æ–º –±—É–¥–µ—Ç $2$, $3$, $4$‚Ä¶ –ê –Ω–∞ $19$ —Å–Ω–æ–≤–∞ –±—É–¥–µ—Ç $1$. –ù–µ—Ç—Ä—É–¥–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è

–¶–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å –≤–µ–¥—ë—Ç —Å–µ–±—è –ø–æ—á—Ç–∏ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ $9$. –û—Ç–ª–∏—á–∞—é—Ç—Å—è –æ–Ω–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ $9$, $18$, $27$ –∏ —Ç.–¥. - —Ç–∞–º –æ—Å—Ç–∞—Ç–æ–∫ —Ä–∞–≤–µ–Ω –Ω—É–ª—é, –∞ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å - –¥–µ–≤—è—Ç–∏, —Ç.–µ.

$$
dr(n) = \begin{cases}n \bmod 9, n \bmod 9 \ne 0\\9, n \bmod 9 = 0\end{cases}
$$

–ï—Å–ª–∏ –Ω–µ–º–Ω–æ–≥–æ –ø–æ–∏–≥—Ä–∞—Ç—å—Å—è –≤ –≥–æ–ª–æ–≤–µ, —Ç–æ —Ç–∞–∫—É—é –∑–∞–ø–∏—Å—å –º–æ–∂–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –¥–æ:

$$
dr(n) = 1 + (n - 1) \bmod 9
$$

–ê —É –æ—Å—Ç–∞—Ç–∫–∞ –æ—Ç –¥–µ–ª–µ–Ω–∏—è, *–¥–µ–ª–∞—é –≤–∏–¥ —á—Ç–æ –≤—Å–µ–≥–¥–∞ —ç—Ç–æ –∑–Ω–∞–ª*, –µ—Å—Ç—å –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ:

$$
(a + b) \bmod n = [a \bmod n + b \bmod n] \bmod n
$$

–î–∞–≤–∞–π—Ç–µ –Ω–∞ —Å–µ–∫—É–Ω–¥—É –ø–æ–∏–≥—Ä–∞–µ–º –≤ –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–≤, –∏ –∑–∞–ø–∏—à–µ–º —Ç–∞–∫–æ–µ –∂–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ, —Ç–æ–ª—å–∫–æ –∑–∞–º–µ–Ω–∏–º $\mod n$ –Ω–∞ $dr$

$$
dr(a + b) = dr(dr(a) + dr(b))
$$

–ò, –ø–æ–ª—å–∑—É—è—Å—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º $dr$ —á–µ—Ä–µ–∑ $mod$ –ø–æ–ø—Ä–æ–±—É–µ–º —ç—Ç–æ –¥–æ–∫–∞–∑–∞—Ç—å

$$
dr(a + b) = 1 + ([1 + (a - 1) \bmod 9] + [1 + (b - 1) \bmod 9] - 1) \bmod 9
\\
dr(a + b) = 1 + [1 + (a - 1) \bmod 9 + (b - 1) \bmod 9] \bmod 9
\\
dr(a + b) = 1 + [1 \bmod 9 + (a - 1) \bmod 9 + (b - 1) \bmod 9] \bmod 9
\\
dr(a + b) = 1 + (a + b - 1) \bmod 9
\\
dr(a + b) = dr(a + b)
$$

*–ú–∏–Ω—É—Ç—É –º–æ–ª—á–∞–Ω–∏—è –≤—Å–µ–º, –∫—Ç–æ –ø—Ä–∏—à—ë–ª –ø–æ—Å–ª—É—à–∞—Ç—å –ø—Ä–æ TypeScript*. –ü–æ—Ç–µ—Ä–ø–∏—Ç–µ –µ—â—ë –ø–∞—Ä—É —Å–ª–∞–π–¥–æ–≤, —É —ç—Ç–æ–≥–æ —Ç–æ—á–Ω–æ –µ—Å—Ç—å —Å–º—ã—Å–ª! –≠—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –ø–æ–º–æ–≥–∞–µ—Ç –∑–∞–º–µ—Ç–∏—Ç—å –¥—Ä—É–≥—É—é —à—Ç—É–∫—É: –µ—Å–ª–∏ $dr$ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–±–∏–≤ —á–∏—Å–ª–æ –Ω–∞ —Å—É–º–º—É, —Ç–æ –º–æ–∂–Ω–æ –ø–æ–∏–≥—Ä–∞—Ç—å –≤–æ—Ç —Ç–∞–∫:

$$
dr(1234) = dr(1200 + 34)
$$

–ê –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è –¥–æ –¥—Ä—É–≥–æ–π —Ñ–∏–≥–Ω–∏: –µ—Å–ª–∏ –¥–æ–ø–∏—Å—ã–≤–∞—Ç—å –∫ —á–∏—Å–ª—É –Ω—É–ª–∏, —Ç–æ –µ–≥–æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –º—ã –º–æ–∂–µ–º ‚Äú—Ä–∞–∑—Ä—ã–≤–∞—Ç—å‚Äù —á–∏—Å–ª–æ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –≤–æ—Ç —Ç–∞–∫:

$$
dr(1234) = dr(12 + 34) = dr(dr(1 + 2) + dr(3 + 4))
$$

–ò–ª–∏, —á—Ç–æ —É–∂–µ –±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω–æ, –≤–æ—Ç —Ç–∞–∫:

$$
dr(1234) = dr(1 + 234) = dr(1 + dr(2 + 34)) = dr(1 + dr(2 + dr(3 + dr(4))))
$$

–ê –ø–æ–ª–µ–∑–Ω–æ —ç—Ç–æ —Ç–µ–º, —á—Ç–æ –≤ —Ç–∞–∫–æ–π —Ñ–æ—Ä–º–µ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ –¥–≤—É–∑–Ω–∞—á–Ω–æ–≥–æ —á–∏—Å–ª–∞! $dr$ –≤—Å–µ–≥–¥–∞ –¥–∞—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç $0$ –¥–æ $9$, –∏ —Å–∫–ª–∞–¥—ã–≤–∞–µ–º –º—ã –µ–≥–æ —Ç–æ–∂–µ –≤—Å–µ–≥–¥–∞ —Å –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º. –°–∞–º–æ–µ —Å—Ç—Ä–∞—à–Ω–æ–µ, —á—Ç–æ –º–æ–∂–µ—Ç —Å–ª—É—á–∏—Ç—å—Å—è, —ç—Ç–æ –µ—Å–ª–∏ —Å—É–º–º–∞ –¥–≤—É—Ö —Ü–∏—Ñ—Ä –±—É–¥–µ—Ç –¥–≤—É–∑–Ω–∞—á–Ω–æ–π

–° —ç—Ç–∏–º —É–∂–µ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å *–ª—é–±—ã–µ* –¥–≤–∞ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö —á–∏—Å–ª–∞, —á—Ç–æ–±—ã —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å—É–º–º—É –≤—Å–µ—Ö —Ü–∏—Ñ—Ä. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ —É–º–µ—Ç—å —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥–≤–µ —Ü–∏—Ñ—Ä—ã, –∞ –ø–æ—Ç–æ–º —Å—á–∏—Ç–∞—Ç—å –∏—Ö —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å. –°–∞–º–∞—è –±–æ–ª—å—à–∞—è —Å—É–º–º–∞ –æ—Ç –¥–≤—É—Ö —Ü–∏—Ñ—Ä - —ç—Ç–æ $18$

–ù–µ –±—É–¥–µ–º –¥–æ–ª–≥–æ –¥—É–º–∞—Ç—å –Ω–∞–¥ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –≤ TS - —Ç—É—Ç –ø–æ–¥–æ–π–¥—ë—Ç –∏ –ø—Ä–æ—Å—Ç–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞. –î–∞–≤–∞–π—Ç–µ –æ–±–∑–æ–≤—ë–º —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é –º–∞–ª—ã–º —Ü–∏—Ñ—Ä–æ–≤—ã–º –∫–æ—Ä–Ω–µ–º, –∞ –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ã—á–Ω–æ–≥–æ. –£ ~~—ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏~~ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –Ω–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –≤—Ö–æ–¥, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–Ω –≤—Å–µ–≥–¥–∞ `Digit`

```tsx
type SmallDigitalRootTable = [
// 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18
   0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  1,  2,  3,  4,  5,  6,  7,  8,  9
]

type SmallDigitalRoot<N extends number> =
  SmallDigitalRootTable[N] extends Digit
    ? SmallDigitalRootTable[N]
    : never
```

<aside>
üí° –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç, –∑–¥–µ—Å—å **–Ω—É–∂–Ω–∞** –∑–∞–≥–ª—É—à–∫–∞ –Ω–∞ `never`. –ù–µ–º–Ω–æ–≥–æ –ø–æ–∑–∂–µ –æ–±—ä—è—Å–Ω—é –ø–æ—á–µ–º—É

</aside>

–ù–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º –±—É–¥–µ—Ç –±—Ä–∞—Ç—å –¥–≤–µ —Ü–∏—Ñ—Ä—ã –∏–∑ —á–∏—Å–ª–∞, –±—Ä–∞—Ç—å –∏—Ö ‚Äú–º–∞–ª—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å‚Äù, –∞ –ø–æ—Ç–æ–º –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –µ–≥–æ –≤ —Ç—É –∂–µ —Å—É–º–º—É, –ø–æ–∫–∞ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –æ–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞. –ù–µ—Å–ª–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ —Ü–∏—Ñ—Ä —Ç—É—Ç –Ω–µ–≤–∞–∂–µ–Ω, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –∫–æ–Ω–µ—á–Ω–æ–º —Å—á—ë—Ç–µ –≤—Å—ë —Å–≤–æ–¥–∏—Ç—Å—è –∫ –æ–±—ã—á–Ω–æ–π —Å—É–º–º–µ

# *–ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ*, —è –ø–ª–æ—Ö–æ –≤–∏–∂—É!

–ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –º—ã —É–∂–µ –º–æ–∂–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å `DigitalRoot<N extends number>`, –Ω–æ —Ç–∞–∫ –º—ã –±—ã—Å—Ç—Ä–æ —Å–ø–æ—Ç–∫–Ω—ë–º—Å—è –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –≤ —Ä–µ–∫—É—Ä—Å–∏–∏ –Ω–∞–¥–æ –∑–∞–º–µ–Ω—è—Ç—å –¥–≤–µ —Ü–∏—Ñ—Ä—ã –Ω–∞ –∏—Ö ‚Äú–º–∞–ª—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å‚Äù, —Ç.–µ. —Ä–∞–∑–¥–µ–ª—è—Ç—å –∏ —Å–∫–ª–µ–∏–≤–∞—Ç—å –º–∞—Å—Å–∏–≤—ã —Ü–∏—Ñ—Ä - –¥–∞–≤–∞–π—Ç–µ –ø–æ–∫–∞ –ø—Ä–∏–¥—É–º–∞–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è `Digit[]` c –ø–æ–¥–ø–∏—Å—å—é `Impl`, –∞ –ø–æ—Ç–æ–º –Ω–∞—É—á–∏–º—Å—è —á–∏—Ç–∞—Ç—å –∏—Ö –∏–∑ `number`

–ï—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–π –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –Ω–∞ –≤—Ö–æ–¥ –ø—Ä–∏—Ö–æ–¥–∏—Ç –º–∞—Å—Å–∏–≤ –∏–∑ –æ–¥–Ω–æ–π —Ü–∏—Ñ—Ä—ã. –ï–≥–æ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–∞–∫:

```tsx
type DigitalRootImpl<DS extends Digit[]> =
  DS extends [Digit]
    ? DS[0]
    : ...
```

‚Ä¶–Ω–æ —è —Å–µ–≥–æ–¥–Ω—è –≤—Ä–µ–¥–Ω—ã–π –∏ —Ö–æ—á—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø—Ä–æ `infer`

–ò–Ω–æ–≥–¥–∞ –≤ TypeScript‚Äô–µ –Ω–∞–º –Ω—É–∂–Ω–æ ‚Äú–¥–æ—Å—Ç–∞—Ç—å —Å–æ—Å—Ç–∞–≤–Ω—É—é —á–∞—Å—Ç—å‚Äù –∏–∑ –∫–∞–∫–æ–≥–æ-—Ç–æ —Ç–∏–ø–∞. –ú—ã —É–∂–µ —É–º–µ–µ–º –±—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–∞–ø–ª–æ–≤ –∏ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –ø–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –ø—Ä–∏–¥—É–º–∞–µ–º –¥—Ä—É–≥–æ–π –∫–µ–π—Å. –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –Ω–∞ —Å–≤–µ—Ç–µ –ø—Ä–∏–º–µ—Ä: —É –Ω–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∏ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ –ø—Ä–æ–ø—Å—ã. –ß–µ–ª–æ–≤–µ–∫ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏—é, –∞–≤—Ç–æ—Ä—ã React —É–¥–∞–ª–∏–ª–∏ `ComponentProps`, –∞ –ª–∏–Ω—Ç–µ—Ä –≤ —Ç—Ä–∞–Ω–∫–µ –≤–µ—á–µ—Ä–æ–º –ø—è—Ç–Ω–∏—Ü—ã –ø–æ—á–µ–º—É-—Ç–æ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `Parameters` - –¥–µ—Ç–∞–ª–∏ –Ω–µ–≤–∞–∂–Ω—ã, –º—ã –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏–º –¥–æ—Å—Ç–∞—Ç—å –ø—Ä–æ–ø—Å—ã –±–µ–∑ –ø–æ–¥–≥–ª—è–¥—ã–≤–∞–Ω–∏—è –≤ —á—É–∂–æ–π –∫–æ–¥

```tsx
export const ShinyButton: FC<{
  sparkle: number,
  onClick: () => void,
  ...
}> = ({ sparkle, ...props }) => {
  ...
}

// other module

type ShinyButtonProps = ???
```

–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –º—ã –∑–Ω–∞–µ–º –∫–∞–∫ –≤ –æ–±—â–∏—Ö —á–µ—Ä—Ç–∞—Ö –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞—à —Ç–∏–ø, –Ω–æ –Ω–µ –∑–Ω–∞–µ–º –µ–≥–æ –¥–µ—Ç–∞–ª–µ–π. `extends` –∏ `infer` –ø–æ–º–æ–≥—É—Ç –Ω–∞–º —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É!

`infer` –ø–æ–∑–≤–æ–ª—è—é—Ç –≤ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–π —Ñ–æ—Ä–º–µ –Ω–∞–ø–∏—Å–∞—Ç—å, —á—Ç–æ, –µ*—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ —à—Ç—É–∫–∞ –∏–º–µ–µ—Ç —Ç–∞–∫—É—é-—Ç–æ —Ñ–æ—Ä–º—É, —Ç–æ –∏–∑ –Ω–µ—ë –Ω—É–∂–Ω–æ –¥–æ—Å—Ç–∞—Ç—å —ç—Ç–∏ –¥–µ—Ç–∞–ª–∏*. `infer` –ø–æ —Å—É—Ç–∏ –æ–±—ä—è–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π generic –ø–∞—Ä–∞–º–µ—Ç—Ä –≤–Ω—É—Ç—Ä–∏ –≤–∞—à–µ–≥–æ —Ç–∏–ø–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∫–∞–∫–æ–π-—Ç–æ –ª–æ–≥–∏–∫–∏

```tsx
type InnerPart<T> = T extends { some: { shape: infer I } } ? I : never
type Example = InnerPart<{ some: { shape: 'It works!' } }>
//   ^? 'It works!'
```

–í–µ—Ä–Ω—ë–º—Å—è –∫ –ø—Ä–∏–º–µ—Ä—É —Å React. –§–æ—Ä–º–∞ generic –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ - —ç—Ç–æ *–∫–∞–∫–∞—è-—Ç–æ* —Ñ—É–Ω–∫—Ü–∏—è —Å –æ–¥–Ω–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º, —Ç–∏–ø –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å, –∏ –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ReactNode. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ—à–∞–µ–º–æ–π –ø—Ä–æ–±–ª–µ–º—ã –≤ –¥—Ä—É–≥–æ–π –≤–µ—Ç–∫–µ —É—Å–ª–æ–≤–∏—è –º–æ–∂–Ω–æ —Ç–æ–∂–µ —á—Ç–æ-—Ç–æ –≤–µ—Ä–Ω—É—Ç—å, –Ω–æ —Ç–∞–º —É–∂–µ –Ω–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–∏–ø –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–π –≤ `infer`.

```tsx
type ComponentProps<C> = C extends (props: infer P) => ReactNode ? P : never
```

–ï—Å–ª–∏ –ø–æ–¥—É–º–∞—Ç—å, `infer` –≤ TS —Ç–∏–ø–∞—Ö –∏–¥–µ–π–Ω–æ —Å—Ö–æ–∂ —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º *–¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ* –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è - –æ–Ω–æ —Ç–æ–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–∫–æ–π-—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–π —Ñ–æ—Ä–º–µ, –∏ –¥–æ—Å—Ç–∞—ë—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. –≠—Ç–æ —Å—Ö–æ–¥—Å—Ç–≤–æ —Ñ–∏—á–µ–π –Ω–∏—á–µ–≥–æ –Ω–µ –¥–∞—ë—Ç, –º–Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ –¥—É–º–∞—Ç—å –ø—Ä–æ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –û–±—ã—á–Ω–æ —Ç–∞–∫—É—é —Ñ–∏—á—É –Ω–∞–∑—ã–≤–∞—é—Ç ‚Äú—Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º —à–∞–±–ª–æ–Ω–æ–≤‚Äù, –∏ –æ–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –±–æ–ª–µ–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥

```cs
Operation[] operations = [ /* ... */ ];

// –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ:
if (operations.Length == 1 && operations[0] is DeleteOperation) {
	var deleteOperation = (DeleteOperation)operations[0];
	if (deleteOperation.ItemCount > 0) {
		// ...
	}
}

// –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ:
if (operations is [DeleteOperation { ItemCount: > 0 }]) {
  // ...
}
```

# –¢–µ–ø–µ—Ä—å –≤–∏–∂—É –ø–æ–ª—É—á—à–µ!

–í–µ—Ä–Ω—ë–º—Å—è –∫ —Ü–∏—Ñ—Ä–æ–≤–æ–º—É –∫–æ—Ä–Ω—é. –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π —á–µ—Ä–µ–∑ `infer`:

```tsx
type DigitalRootImpl<DS extends Digit[]> =
  DS extends [infer D1 extends Digit]
    ? D1
    : ...
```

‚Ä¶–∏ —ç—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç, —è –ø—Ä–æ—Å—Ç–æ –≤—Ä–µ–¥–∏–Ω–∞. –ó–∞–º–µ—Ç—å—Ç–µ –∫–∞–∫ –ø–æ—Å–ª–µ `infer` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–π `extends`:  –æ–Ω —É—Ç–æ—á–Ω—è–µ—Ç —É—Å–ª–æ–≤–∏–µ, –µ—Å–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Ç–∏–ø —Ç–æ–∂–µ —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∫–∞–∫—É—é-—Ç–æ —Ñ–æ—Ä–º—É. –ò–Ω–æ–≥–¥–∞ —ç—Ç–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç —á–∏—Å–ª–æ –≤–µ—Ç–æ–∫ –≤ —É—Å–ª–æ–≤–∏—è—Ö, —Ö–æ—Ç—è –∑–¥–µ—Å—å —ç—Ç–æ, –Ω–∞–≤–µ—Ä–Ω–æ–µ, –¥–∞–∂–µ —É—Å–ª–æ–∂–Ω—è–µ—Ç –∫–æ–¥

–ù–∞–ø–æ–º–Ω—é: –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ —Å–ª—É—á–∞–π –¥–ª—è –æ–¥–Ω–æ–π —Ü–∏—Ñ—Ä—ã –≤ –º–∞—Å—Å–∏–≤–µ, –æ—Å—Ç–∞–ª—Å—è –∫–µ–π—Å —Å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–º —à–∞–≥–æ–º. –ó–¥–µ—Å—å `infer` –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø–∏—Å–∞—Ç—å —É–∂–µ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—É—é —Ñ–æ—Ä–º—É: –º–∞—Å—Å–∏–≤ —Ü–∏—Ñ—Ä `DS` –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–≤–µ —Ü–∏—Ñ—Ä—ã –≤ –Ω–∞—á–∞–ª–µ, –∞ –ø–æ—Ç–æ–º –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Ü–∏—Ñ—Ä

```tsx
type DigitalRootImpl<DS extends Digit[]> =
  DS extends [infer D1 extends Digit]
    ? D1
    : DS extends [
        infer D1 extends Digit,
        infer D2 extends Digit,
        ...infer Rest extends Digit[]
    ]
        ? DigitalRootImpl<[SmallDigitalRoot<AddDigits<D1, D2>>, ...Rest]>
        : never
```

–≠—Ç–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –º–æ–∂–µ—Ç –∫–∞–∑–∞—Ç—å—Å—è —Å–ª–æ–∂–Ω–æ–π –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, –Ω–æ –∏–¥–µ–π–Ω–æ - –º—ã –ø—Ä–æ—Å—Ç–æ –¥–æ—Å—Ç–∞–ª–∏ –∏–∑ –º–∞—Å—Å–∏–≤–∞ –ø–µ—Ä–≤—ã–µ –¥–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–∞, –Ω–∞–∑–≤–∞–ª–∏ `D1` –∏ `D2`, –∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å–ª–æ–∂–∏–ª–∏ –≤ –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ `Rest`. –í –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º –∑–∞–¥–∞—á–∏: —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –¥–≤–µ —Ü–∏—Ñ—Ä—ã, –±–µ—Ä—ë—Ç—Å—è –∏—Ö —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å, –∞ –ø–æ—Ç–æ–º —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —Ü–∏—Ñ—Ä, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –±–µ—Ä—ë—Ç—Å—è –Ω–æ–≤—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ—Ä–µ–Ω—å

–ú—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º, –Ω–æ –Ω–∞–º –µ—â—ë –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –ø—Ä–∏–¥—É–º–∞—Ç—å —Å `Digit[]` –Ω–∞ –≤—Ö–æ–¥–µ. –î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º ~~—Ñ—É–Ω–∫—Ü–∏—é~~ —Ç–∏–ø `Digits`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å `number` –∏ –æ—Ç–¥–∞–≤–∞—Ç—å `Digit[]`. –£ –Ω–µ–≥–æ –µ—Å—Ç—å —Ç–∞–∫–æ–π –∂–µ –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π —Å –æ–¥–Ω–æ–π —Ü–∏—Ñ—Ä–æ–π, –∫–æ–≥–¥–∞ –º—ã –º–æ–∂–µ–º —Å—Ä–∞–∑—É –≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Å–∏–≤ —Å –æ–¥–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º

```tsx
type Digits<N extends number> =
  N extends Digit
    ? [N]
    : ...
```

–ù–æ –¥–∞–ª—å—à–µ –æ–ø—è—Ç—å –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏. –ö–∞–∫ –º—ã –º–æ–∂–µ–º –ø–æ–¥–µ–ª–∏—Ç—å number –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã? –î—É–º–∞—é –º–Ω–æ–≥–æ –∫—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –º—ã —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —á–∏—Å–ª–æ –≤ —Å—Ç—Ä–æ–∫—É, –≤–æ–∑—å–º—ë–º –µ—ë –ø–µ—Ä–≤—ã–π —Å–∏–º–≤–æ–ª –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ —á–∏—Å–ª–æ. –ó–¥–µ—Å—å –Ω–∞–º –ø–æ–º–æ–∂–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤–∞—è —Ñ–∏—á–∞ TS, —Å –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `infer` *–≤–Ω—É—Ç—Ä–∏ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫*.

```tsx
type Digits<N extends number> =
  N extends Digit
    ? [N]
    : `${N}` extends `${infer D1 extends Digit}${infer R extends number}`
      ? [D1, ...Digits<R>]
      : never
```

–ò–¥–µ–π–Ω–æ —ç—Ç–æ —Ç–æ—Ç –∂–µ –∞–ª–≥–æ—Ä–∏—Ç–º, —Ç–æ–ª—å–∫–æ –Ω–∞–ø–∏—Å–∞–Ω –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ. –ú—ã —Å–º–æ—Ç—Ä–∏–º –Ω–∞ `N` –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏, –∞ –ø–æ—Ç–æ–º –≤—ã—á–ª–µ–Ω—è–µ–º –∏–∑ –Ω–µ—ë –ø–µ—Ä–≤—É—é —Ü–∏—Ñ—Ä—É `D1` –∏ –æ—Å—Ç–∞–≤—à–µ–µ—Å—è —á–∏—Å–ª–æ `R` —Å–ø—Ä–∞–≤–∞. TS, *–∫—Ç–æ –±—ã –º–æ–≥ –ø–æ–¥—É–º–∞—Ç—å*, —É–ø—Ä–æ—â–∞–µ—Ç –∂–∏–∑–Ω—å –∏ –¥–∞—ë—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —á–∞—Å—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤ —á–∏—Å–ª–æ. –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ —á–∞—Å—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –º—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ –º–∞—Å—Å–∏–≤, –≥–¥–µ –¥–µ–ª–∞–µ—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤. –†–∞–±–æ—Ç—É `Digits` –º–æ–∂–Ω–æ —Ä–∞—Å–ø–∏—Å–∞—Ç—å –≤–æ—Ç —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

```tsx
type X = Digits<123>
//   ^? [1, ...[2, ...[3]]] => [1, 2, 3]
```

# –°–∫–ª–∞–¥—ã–≤–∞–µ–º –ø–∞–∑–ª

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, —Ç–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏!

```tsx
type DigitalRoot<N extends number> = DigitalRootImpl<Digits<N>>

type Solution<T extends number> = DigitalRoot<T>;
```

–î—É–º–∞—é –ª–µ–≥–∫–æ –±—ã–ª–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ TS —Å —ç—Ç–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è —É–∂–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–∞–∫–∏–º-—Ç–æ –ª–∏–Ω—Ç–µ—Ä–æ–º —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º, –∞ –Ω–∞—Å—Ç–æ—è—â–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —è–∑—ã–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. *–ñ–µ–ª–∞—é —É–¥–∞—á–∏ –∫–∞–∫-—Ç–æ –∂–∏—Ç—å —Å —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –¥–∞–ª—å—à–µ!*
